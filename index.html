<!doctype html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login - Sistem Penilaian Teknisi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460); color: #e0e0ff; font-family: 'Inter', sans-serif; }
    .card { background: rgba(30,30,50,0.8); border: 1px solid rgba(100,100,255,0.2); border-radius: 1rem; padding: 2rem; box-shadow: 0 8px 32px rgba(0,0,0,0.3); }
    .input { background: rgba(20,20,40,0.6); border: 1px solid rgba(100,100,255,0.3); border-radius: .5rem; padding: .75rem 1rem; width: 100%; color: #e0e0ff; }
    .btn { background: linear-gradient(135deg,#6366f1,#8b5cf6); color:white; border:none; border-radius:.5rem; padding:.75rem; width:100%; font-weight:600; cursor:pointer; transition:.3s; }
    .btn:hover { transform: translateY(-2px); box-shadow:0 8px 20px rgba(99,102,241,0.4); }
    .toast { position: fixed; top: 20px; right: 20px; background: #ef4444; color: white; padding: 1rem 1.5rem; border-radius: .75rem; box-shadow: 0 0 10px rgba(0,0,0,0.3); }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="card max-w-md w-full">
    <div class="text-center mb-6">
      <img src="logojk.jpg" class="mx-auto mb-3 w-16">
      <h1 class="text-2xl font-bold">PT. Jaya Kencana</h1>
      <p class="text-sm text-gray-400">Masukkan username dan password Anda</p>
    </div>

    <form id="loginForm" class="space-y-4">
      <div>
        <label class="block mb-2 text-sm">ðŸ‘¤ Username</label>
        <input id="username" type="text" class="input" required>
      </div>
      <div>
        <label class="block mb-2 text-sm">ðŸ”‘ Password</label>
        <input id="password" type="password" class="input" required>
      </div>
      <button class="btn">Masuk</button>
    </form>

    <p class="mt-8 text-center text-xs text-gray-400">Â© 2025 PT. Jaya Kencana</p>
  </div>

  <script>
    // Daftar akun (dua tipe: _les untuk form, tanpa _les untuk history)
    const userDatabase = {
      // Teknisi
      'asep_les': { password: 'asep123', role: 'form' },
      'ahmad_les': { password: 'ahmad123', role: 'form' },
      'ilham_les': { password: 'ilham123', role: 'form' },
      'muji_les': { password: 'muji123', role: 'form' },
      'boedi_les': { password: 'boedi123', role: 'form' },
      'mukhlis': { password: 'mukhlis123', role: 'form' },

      // History (tanpa _les)
      'asep': { password: 'asep123', role: 'history' },
      'ahmad': { password: 'ahmad123', role: 'history' },
      'ilham': { password: 'ilham123', role: 'history' },
      'muji': { password: 'muji123', role: 'history' },
      'boedi': { password: 'boedi123', role: 'history' },
      'mukhlis': { password: 'mukhlis123', role: 'history' },
    };

    document.getElementById('loginForm').addEventListener('submit', e => {
      e.preventDefault();
      const u = username.value.trim().toLowerCase();
      const p = password.value.trim();

      if (userDatabase[u] && userDatabase[u].password === p) {
        const role = userDatabase[u].role;
        localStorage.setItem('currentUser', u);
        localStorage.setItem('userRole', role);

        if (role === 'form') {
          window.location.href = 'form.html';
        } else if (role === 'history') {
          window.location.href = 'history.html';
        }
      } else {
        showToast('Username atau password salah!');
      }
    });

    function showToast(msg) {
      const toast = document.createElement('div');
      toast.className = 'toast';
      toast.textContent = msg;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);
    }
  </script>
</body>
</html>
